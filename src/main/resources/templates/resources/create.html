<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">

<head th:replace="partials/partials.html :: head('Create Resource')"></head>
<style>
    table {
        margin: 0 auto;
        width: 80%;
    }
</style>
<body>
<nav th:replace="partials/partials.html :: nav"></nav>

<header th:replace="partials/partials.html :: header('Create a Resource')"></header>

<main class="container">
    <form th:action="@{/resources/create}" method="POST" id="form" th:object="${resource}">
        <div class="mb-3">
            <label class="form-label" for="title">Title</label>
            <input th:field="*{title}" class="form-control" id="title" type="text" name="title" placeholder="Enter resource title">
        </div>
        <div class="mb-3">
            <label class="form-label" for="link">Link</label>
            <input th:field="*{link}" class="form-control" id="link" name="link" placeholder="Enter link">
        </div>
        <div class="mb-3">
            <label class="form-label" for="description">Description</label>
            <textarea th:field="*{description}" class="form-control" id="description" name="description" placeholder="Enter description of text"></textarea>
        </div>

        <table style="text-align: center">
            <tr>
                <td>Select Curriculum Topic:</td>
                <td>
                    <select th:field="*{curriculum_topic}">
                        <option th:each="t : ${topic}"
                                th:value="${t.id}"
                                th:utext="${t.title}">
                        </option>
                    </select>
                </td>
            </tr>
            <tr>
                <td><input name="submit" type="submit" value="submit" /></td>
            </tr>
        </table>

    </form>
    <th:block th:replace="partials/partials.html :: scripts"></th:block>
</main>

<!--<div class="form-group blu-margin">-->
<!--    <select class="form-control" th:field="${operator.opeId}"  id="dropOperator">-->
<!--        <option value="0">select operator</option>-->
<!--        <option th:each="operator : ${operators}" th:value="${operator.id}" th:text="${operator.operatorName}"></option>-->
<!--    </select>-->
<!--</div>-->


<script src="https://unpkg.com/just-validate@latest/dist/just-validate.production.min.js"></script>

<script>
    const validation = new JustValidate('#form');

    validation
        .addField('#title', [
            {
                rule: 'minLength',
                value: 3,
            },
            {
                rule: 'maxLength',
                value: 240,
            },
        ])
        .addField('#description', [
            {
                rule: 'required',
                errorMessage: 'description is required',
            }
            // {
            //     rule: 'description',
            //     errorMessage: 'description is invalid!',
            // },
        ]);
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>

</body>
</html>